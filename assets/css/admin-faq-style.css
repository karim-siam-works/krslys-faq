/* ============================================
   Design System Variables
   ============================================ */

:root {
	/* Typography */
	--font-family-base: -apple-system, BlinkMacSystemFont, 'Inter', 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
	--font-size-xs: 0.75rem;      /* 12px */
	--font-size-sm: 0.875rem;     /* 14px */
	--font-size-base: 1rem;       /* 16px */
	--font-size-lg: 1.125rem;     /* 18px */
	--font-size-xl: 1.25rem;      /* 20px */
	
	--font-weight-normal: 400;
	--font-weight-medium: 500;
	--font-weight-semibold: 600;
	--font-weight-bold: 700;
	
	--line-height-tight: 1.25;
	--line-height-normal: 1.5;
	--line-height-relaxed: 1.75;
	
	--letter-spacing-tight: -0.025em;
	--letter-spacing-normal: 0;
	--letter-spacing-wide: 0.025em;
	--letter-spacing-wider: 0.05em;
	
	/* Color Palette - Slate/Gray Neutrals */
	--color-slate-50: #f8fafc;
	--color-slate-100: #f1f5f9;
	--color-slate-200: #e2e8f0;
	--color-slate-300: #cbd5e1;
	--color-slate-400: #94a3b8;
	--color-slate-500: #64748b;
	--color-slate-600: #475569;
	--color-slate-700: #334155;
	--color-slate-800: #1e293b;
	--color-slate-900: #0f172a;
	
	/* Primary Accent Color */
	--color-primary-500: #3b82f6;
	--color-primary-600: #2563eb;
	--color-primary-700: #1d4ed8;
	
	/* Semantic Colors */
	--color-error-50: #fef2f2;
	--color-error-100: #fee2e2;
	--color-error-500: #ef4444;
	--color-error-600: #dc2626;
	--color-error-700: #991b1b;
	
	--color-white: #ffffff;
	--color-black: #000000;
	
	/* Spacing System (rems) */
	--spacing-1: 0.25rem;   /* 4px */
	--spacing-2: 0.5rem;    /* 8px */
	--spacing-3: 0.75rem;   /* 12px */
	--spacing-4: 1rem;      /* 16px */
	--spacing-5: 1.25rem;   /* 20px */
	--spacing-6: 1.5rem;    /* 24px */
	--spacing-8: 2rem;      /* 32px */
	--spacing-10: 2.5rem;   /* 40px */
	--spacing-12: 3rem;     /* 48px */
	
	/* Border Radius */
	--radius-sm: 0.375rem;  /* 6px */
	--radius-md: 0.5rem;    /* 8px */
	--radius-lg: 0.75rem;   /* 12px */
	--radius-xl: 1rem;      /* 16px */
	
	/* Shadows */
	--shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
	--shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
	--shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
	--shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
	
	/* Transitions */
	--transition-fast: 150ms ease;
	--transition-base: 200ms ease;
	--transition-slow: 300ms ease;
}

/* ============================================
   Base Typography
   ============================================ */

.nlf-faq-admin,
.nlf-faq-admin * {
	font-family: var(--font-family-base);
	box-sizing: border-box;
}

/* ============================================
   Layout & Container Styles (Mobile First)
   ============================================ */

.nlf-faq-admin__layout {
	display: flex;
	flex-direction: column;
	gap: var(--spacing-4);
	margin-top: var(--spacing-4);
}

.nlf-faq-admin__left {
	flex: 1;
	min-width: 0;
}

.nlf-faq-admin__right {
	flex: 1;
	min-width: 0;
	background: transparent;
	border: none;
	border-radius: 0;
	padding: 0;
	box-shadow: none;
}

@media (min-width: 783px) {
	.nlf-faq-admin__layout {
		flex-direction: row;
		gap: var(--spacing-8);
		margin-top: var(--spacing-5);
	}

	.nlf-faq-admin__left {
		flex: 1 1 55%;
	}

	.nlf-faq-admin__right {
		flex: 1 1 45%;
		background: var(--color-white);
		border: 1px solid var(--color-slate-200);
		border-radius: var(--radius-lg);
		padding: var(--spacing-6) var(--spacing-5) var(--spacing-5);
		box-shadow: var(--shadow-lg);
		transition: box-shadow var(--transition-base);
	}

	.nlf-faq-admin__right:hover {
		box-shadow: var(--shadow-xl);
	}
}

.nlf-faq-admin__right h2 {
	margin-top: 0;
	font-size: var(--font-size-xl);
	font-weight: var(--font-weight-semibold);
	line-height: var(--line-height-tight);
	color: var(--color-slate-800);
	letter-spacing: var(--letter-spacing-tight);
}

.nlf-faq-admin .form-table th {
	width: 13.75rem; /* 220px */
	font-weight: var(--font-weight-medium);
	color: var(--color-slate-700);
}

.nlf-faq-admin .nlf-faq {
	margin-top: var(--spacing-3);
}

/* ============================================
   Questions Table (Legacy) - Maintain Compatibility
   ============================================ */

.nlf-faq-questions-table .nlf-faq-sort-handle {
	cursor: move;
	text-align: center;
	color: var(--color-slate-400);
	font-size: var(--font-size-lg);
	transition: color var(--transition-base);
}

.nlf-faq-questions-table .nlf-faq-sort-handle:hover {
	color: var(--color-slate-600);
}

.nlf-faq-questions-table .nlf-faq-visible-cell {
	text-align: center;
}

.nlf-faq-questions-table .nlf-faq-actions-cell {
	text-align: right;
}

/* ============================================
   FAQ Group Table - Modern Styling
   ============================================ */

.nlf-faq-group-table {
	border-collapse: separate;
	border-spacing: 0;
	width: 100%;
	background: var(--color-white);
	border-radius: var(--radius-lg);
	overflow: hidden;
	box-shadow: var(--shadow-sm);
}

.nlf-faq-group-table .nlf-faq-sort-handle {
	vertical-align: top;
	cursor: move;
	text-align: center;
	color: var(--color-slate-400);
	font-size: var(--font-size-lg);
	line-height: var(--line-height-normal);
	transition: color var(--transition-base);
	user-select: none;
}

.nlf-faq-group-table .nlf-faq-sort-handle:hover {
	color: var(--color-slate-600);
}

/* ============================================
   Sortable Drag-and-Drop Styles
   ============================================ */

.nlf-faq-sort-placeholder {
	display: table-row;
	height: 60px;
	background: var(--color-slate-100);
	border: 2px dashed var(--color-slate-300);
	border-radius: var(--radius-md);
	opacity: 0.5;
}

.nlf-faq-group-table .ui-sortable-helper {
	display: table-row;
	background: var(--color-white);
	box-shadow: var(--shadow-lg);
	opacity: 0.8;
}

.nlf-faq-group-table .ui-sortable-helper td {
	background: var(--color-white);
}

.nlf-faq-group-table td {
	vertical-align: top;
}

.nlf-faq-group-table th,
.nlf-faq-group-table td {
	padding: var(--spacing-4) var(--spacing-3);
}

.nlf-faq-group-table th {
	font-weight: var(--font-weight-semibold);
	font-size: var(--font-size-sm);
	color: var(--color-slate-700);
	text-transform: uppercase;
	letter-spacing: var(--letter-spacing-wider);
	background: var(--color-slate-50);
	border-bottom: 1px solid var(--color-slate-200);
}

.nlf-faq-group-table td:first-child {
	width: 2rem; /* 32px */
	white-space: nowrap;
}

.nlf-faq-group-table td:nth-child(2),
.nlf-faq-group-table td:nth-child(3) {
	width: auto;
}

.nlf-faq-group-table input.regular-text,
.nlf-faq-group-table .large-text,
.nlf-faq-group-table .wp-editor-wrap {
	max-width: 100%;
	width: 100%;
	box-sizing: border-box;
}

.nlf-faq-group-table .wp-editor-area {
	width: 100% !important;
}

.nlf-faq-group-table .nlf-faq-visible-cell,
.nlf-faq-group-table .nlf-faq-actions-cell {
	white-space: nowrap;
}

/* ============================================
   Question & Answer Stacked Layout
   ============================================ */

.nlf-faq-content-cell {
	vertical-align: top;
	position: relative;
	padding: var(--spacing-5) var(--spacing-6) var(--spacing-5) var(--spacing-4);
	padding-right: 3.5rem; /* 56px - space for remove button */
}

.nlf-faq-question-field,
.nlf-faq-answer-field {
	margin-bottom: var(--spacing-6);
}

.nlf-faq-question-field:last-child,
.nlf-faq-answer-field:last-child {
	margin-bottom: 0;
}

.nlf-faq-field-label {
	display: block;
	font-weight: var(--font-weight-semibold);
	font-size: var(--font-size-xs);
	color: var(--color-slate-600);
	margin-bottom: var(--spacing-2);
	text-transform: uppercase;
	letter-spacing: var(--letter-spacing-wider);
	line-height: var(--line-height-tight);
}

.nlf-faq-question-field input[type="text"] {
	width: 100%;
	margin-bottom: 0;
	padding: var(--spacing-3) var(--spacing-4);
	font-size: var(--font-size-base);
	line-height: var(--line-height-normal);
	color: var(--color-slate-800);
	background: var(--color-white);
	border: 1px solid var(--color-slate-300);
	border-radius: var(--radius-md);
	transition: all var(--transition-base);
}

.nlf-faq-question-field input[type="text"]:focus {
	outline: none;
	border-color: var(--color-primary-500);
	box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

.nlf-faq-question-field input[type="text"]::placeholder {
	color: var(--color-slate-400);
}

.nlf-faq-answer-field .wp-editor-wrap {
	margin-top: 0;
	border: 1px solid var(--color-slate-300);
	border-radius: var(--radius-md);
	overflow: hidden;
	transition: all var(--transition-base);
}

.nlf-faq-answer-field .wp-editor-wrap:focus-within {
	border-color: var(--color-primary-500);
	box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

/* ============================================
   Options Column Styling
   ============================================ */

.nlf-faq-options-cell {
	vertical-align: top;
	padding: var(--spacing-5) var(--spacing-4);
	background: var(--color-slate-50);
}

.nlf-faq-options-group {
	display: flex;
	flex-direction: column;
	gap: var(--spacing-4);
}

.nlf-faq-options-group p {
	margin: 0;
}

.nlf-faq-option-label {
	display: block;
	font-size: var(--font-size-xs);
	font-weight: var(--font-weight-semibold);
	color: var(--color-slate-600);
	margin-bottom: var(--spacing-2);
	text-transform: uppercase;
	letter-spacing: var(--letter-spacing-wider);
	line-height: var(--line-height-tight);
}

.nlf-faq-options-group label {
	display: flex;
	flex-direction: column;
	gap: var(--spacing-2);
	font-size: var(--font-size-sm);
	line-height: var(--line-height-normal);
	color: var(--color-slate-700);
	cursor: pointer;
	transition: color var(--transition-base);
}

.nlf-faq-options-group label:hover {
	color: var(--color-slate-900);
}

/* Checkbox labels should be horizontal */
.nlf-faq-options-group p:nth-child(1) label,
.nlf-faq-options-group p:nth-child(2) label,
.nlf-faq-options-group p:nth-child(3) label {
	flex-direction: row;
	align-items: center;
	gap: var(--spacing-2);
}

.nlf-faq-options-group p:nth-child(1) label .nlf-faq-option-label,
.nlf-faq-options-group p:nth-child(2) label .nlf-faq-option-label,
.nlf-faq-options-group p:nth-child(3) label .nlf-faq-option-label {
	display: none;
}

/* Checkbox Styling */
.nlf-faq-options-group input[type="checkbox"] {
	width: 1.125rem; /* 18px */
	height: 1.125rem; /* 18px */
	margin: 0;
	cursor: pointer;
	border: 2px solid var(--color-slate-300);
	border-radius: var(--radius-sm);
	background: var(--color-white);
	transition: all var(--transition-base);
	appearance: none;
	position: relative;
	flex-shrink: 0;
}

.nlf-faq-options-group input[type="checkbox"]:hover {
	border-color: var(--color-slate-400);
}

.nlf-faq-options-group input[type="checkbox"]:checked {
	background: var(--color-primary-500);
	border-color: var(--color-primary-500);
}

.nlf-faq-options-group input[type="checkbox"]:checked::after {
	content: 'âœ“';
	position: absolute;
	top: 50%;
	left: 50%;
	transform: translate(-50%, -50%);
	color: var(--color-white);
	font-size: var(--font-size-xs);
	font-weight: var(--font-weight-bold);
	line-height: 1;
}

.nlf-faq-options-group input[type="checkbox"]:focus {
	outline: none;
	box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

/* ============================================
   Remove Button with X Icon - Absolute Position
   ============================================ */

.nlf-faq-remove-row {
	position: absolute;
	top: var(--spacing-4);
	right: var(--spacing-4);
	display: flex;
	align-items: center;
	justify-content: center;
	width: 2rem; /* 32px */
	height: 2rem; /* 32px */
	padding: 0;
	border: 1px solid var(--color-slate-200);
	background: var(--color-white);
	cursor: pointer;
	transition: all var(--transition-base);
	border-radius: var(--radius-md);
	color: var(--color-error-600);
	text-decoration: none;
	z-index: 10;
	box-shadow: var(--shadow-sm);
}

.nlf-faq-remove-row:hover {
	background: var(--color-error-50);
	border-color: var(--color-error-500);
	color: var(--color-error-700);
	box-shadow: var(--shadow-md);
	transform: scale(1.05);
}

.nlf-faq-remove-row:active {
	transform: scale(0.95);
}

.nlf-faq-remove-row:focus {
	outline: none;
	box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.2);
}

.nlf-faq-remove-icon {
	font-size: var(--font-size-lg);
	line-height: 1;
	font-weight: var(--font-weight-medium);
	display: block;
}

/* ============================================
   Add Button Styling
   ============================================ */

#nlf-faq-group-add-row {
	background: var(--color-primary-500);
	color: var(--color-white);
	border: none;
	padding: var(--spacing-3) var(--spacing-5);
	border-radius: var(--radius-md);
	font-size: var(--font-size-sm);
	font-weight: var(--font-weight-medium);
	line-height: var(--line-height-normal);
	cursor: pointer;
	transition: all var(--transition-base);
	box-shadow: var(--shadow-sm);
}

#nlf-faq-group-add-row:hover {
	background: var(--color-primary-600);
	box-shadow: var(--shadow-md);
	transform: translateY(-1px);
}

#nlf-faq-group-add-row:active {
	transform: translateY(0);
	box-shadow: var(--shadow-sm);
}

#nlf-faq-group-add-row:focus {
	outline: none;
	box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.3);
}

/* ============================================
   Tools Page Layout
   ============================================ */

.nlf-faq-tools__grid {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(22rem, 1fr));
	gap: var(--spacing-6);
	margin-top: var(--spacing-5);
}

.nlf-faq-tools__card {
	background: var(--color-white);
	border: 1px solid var(--color-slate-200);
	border-radius: var(--radius-lg);
	padding: var(--spacing-6);
	box-shadow: var(--shadow-md);
	transition: box-shadow var(--transition-base), transform var(--transition-base);
}

.nlf-faq-tools__card:hover {
	box-shadow: var(--shadow-xl);
	transform: translateY(-2px);
}

.nlf-faq-tools__card h2 {
	margin-top: 0;
	font-size: var(--font-size-xl);
	font-weight: var(--font-weight-semibold);
	color: var(--color-slate-800);
	letter-spacing: var(--letter-spacing-tight);
}

.nlf-faq-tools__form {
	margin-top: var(--spacing-4);
	display: flex;
	flex-direction: column;
	gap: var(--spacing-3);
}

.nlf-faq-tools__option {
	display: flex;
	align-items: center;
	gap: var(--spacing-3);
	font-size: var(--font-size-base);
	color: var(--color-slate-700);
}

.nlf-faq-tools__option input[type="checkbox"] {
	margin: 0;
}

.nlf-faq-tools__field-label {
	font-weight: var(--font-weight-semibold);
	color: var(--color-slate-800);
}

.nlf-faq-tools select,
.nlf-faq-tools input[type="file"] {
	max-width: 100%;
	width: 100%;
}

.nlf-faq-tools select {
	padding: var(--spacing-3);
	border: 1px solid var(--color-slate-300);
	border-radius: var(--radius-md);
	font-size: var(--font-size-base);
	color: var(--color-slate-800);
	background: var(--color-white);
}

.nlf-faq-tools .description {
	color: var(--color-slate-600);
	margin-bottom: 0;
}

@media (max-width: 640px) {
	.nlf-faq-tools__grid {
		grid-template-columns: 1fr;
	}

	.nlf-faq-tools__card {
		padding: var(--spacing-5);
	}
}

/* ============================================
   Responsive Design
   ============================================ */

@media (max-width: 960px) {
	.nlf-faq-admin__layout {
		flex-direction: column;
		gap: var(--spacing-6);
	}
	
	.nlf-faq-content-cell {
		padding-right: var(--spacing-4);
		padding-bottom: 3rem; /* Space for remove button on mobile */
	}
	
	.nlf-faq-remove-row {
		top: auto;
		bottom: var(--spacing-4);
		right: var(--spacing-4);
	}
	
	.nlf-faq-question-field,
	.nlf-faq-answer-field {
		margin-bottom: var(--spacing-5);
	}
	
	.nlf-faq-group-table {
		display: block;
		overflow-x: auto;
		-webkit-overflow-scrolling: touch;
	}
	
	.nlf-faq-group-table thead {
		display: none;
	}
	
	.nlf-faq-group-table tbody,
	.nlf-faq-group-table tbody tr,
	.nlf-faq-group-table tbody td {
		display: block;
		width: 100%;
	}
	
	.nlf-faq-group-table tbody tr {
		margin-bottom: var(--spacing-6);
		border: 1px solid var(--color-slate-200);
		border-radius: var(--radius-lg);
		padding: var(--spacing-4);
		background: var(--color-white);
		box-shadow: var(--shadow-sm);
	}
	
	.nlf-faq-group-table tbody td {
		padding: var(--spacing-3) 0;
		border: none;
	}
	
	.nlf-faq-options-cell {
		background: transparent;
		padding: var(--spacing-3) 0;
	}
}

@media (max-width: 640px) {
	:root {
		--spacing-8: 1.5rem; /* Reduce gap on mobile */
	}
	
	.nlf-faq-admin__layout {
		gap: var(--spacing-4);
		margin-top: var(--spacing-4);
	}
	
	.nlf-faq-admin__right {
		padding: var(--spacing-4) var(--spacing-4) var(--spacing-4);
	}
	
	.nlf-faq-content-cell {
		padding: var(--spacing-4) var(--spacing-3) 3rem var(--spacing-3);
	}
	
	.nlf-faq-options-group {
		gap: var(--spacing-3);
	}
}

/* ============================================
   FAQ Group Tabs - New Tabbed Interface
   ============================================ */

.nlf-faq-group-tabs-wrapper {
	margin: 0 -12px -12px;
}

/* ============================================
   Empty States
   ============================================ */

.nlf-empty-state {
	text-align: center;
	padding: var(--spacing-12) var(--spacing-6);
	background: var(--color-slate-50);
	border: 2px dashed var(--color-slate-300);
	border-radius: var(--radius-lg);
	margin: var(--spacing-5) 0;
}

.nlf-empty-icon {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	width: 80px;
	height: 80px;
	background: var(--color-white);
	border-radius: 50%;
	margin-bottom: var(--spacing-4);
	box-shadow: var(--shadow-md);
}

.nlf-empty-icon .dashicons {
	font-size: 40px;
	width: 40px;
	height: 40px;
	color: var(--color-slate-400);
}

.nlf-empty-state h3 {
	margin: 0 0 var(--spacing-3);
	font-size: var(--font-size-xl);
	font-weight: var(--font-weight-semibold);
	color: var(--color-slate-800);
}

.nlf-empty-state p {
	margin: 0 0 var(--spacing-5);
	font-size: var(--font-size-base);
	color: var(--color-slate-600);
	max-width: 500px;
	margin-left: auto;
	margin-right: auto;
}

.nlf-preview-empty-state {
	text-align: center;
	padding: var(--spacing-10);
}

.nlf-preview-empty-state .nlf-empty-icon {
	background: var(--color-primary-50);
}

.nlf-preview-empty-state .nlf-empty-icon .dashicons {
	color: var(--color-primary-500);
}

/* ============================================
   Loading Skeletons
   ============================================ */

.nlf-skeleton-faq {
	animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.nlf-skeleton-line {
	height: 20px;
	background: linear-gradient(
		90deg,
		var(--color-slate-200) 25%,
		var(--color-slate-100) 50%,
		var(--color-slate-200) 75%
	);
	background-size: 200% 100%;
	animation: shimmer 2s infinite;
	border-radius: var(--radius-sm);
	margin-bottom: var(--spacing-3);
}

.nlf-skeleton-title {
	width: 40%;
	height: 24px;
	margin-bottom: var(--spacing-5);
}

.nlf-skeleton-item {
	margin-bottom: var(--spacing-5);
	padding: var(--spacing-4);
	border: 1px solid var(--color-slate-200);
	border-radius: var(--radius-md);
}

.nlf-skeleton-question {
	width: 80%;
	height: 18px;
	margin-bottom: var(--spacing-3);
}

.nlf-skeleton-answer {
	width: 95%;
	height: 14px;
}

@keyframes shimmer {
	0% {
		background-position: -200% 0;
	}
	100% {
		background-position: 200% 0;
	}
}

@keyframes pulse {
	0%, 100% {
		opacity: 1;
	}
	50% {
		opacity: 0.8;
	}
}

.nlf-preview-loading {
	padding: var(--spacing-6);
}

.nlf-preview-container:has(.nlf-preview-content.loaded) .nlf-preview-loading {
	display: none;
}

/* ============================================
   Help Tooltips
   ============================================ */

.nlf-help-trigger {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	width: 20px;
	height: 20px;
	padding: 0;
	border: none;
	background: transparent;
	color: var(--color-slate-400);
	cursor: help;
	transition: color var(--transition-base);
	margin-left: var(--spacing-1);
	vertical-align: middle;
}

.nlf-help-trigger:hover,
.nlf-help-trigger:focus {
	color: var(--color-primary-500);
	outline: none;
}

.nlf-help-trigger .dashicons {
	font-size: 18px;
	width: 18px;
	height: 18px;
}

.nlf-help-text {
	margin: var(--spacing-2) 0 0 !important;
	padding: var(--spacing-3);
	background: var(--color-slate-50);
	border-left: 3px solid var(--color-primary-500);
	border-radius: var(--radius-sm);
	font-size: var(--font-size-sm);
	color: var(--color-slate-600);
	line-height: var(--line-height-relaxed);
}

/* ============================================
   Section Organization
   ============================================ */

.nlf-section {
	margin-bottom: var(--spacing-8);
}

.nlf-section-bordered {
	padding-top: var(--spacing-8);
	border-top: 2px solid var(--color-slate-200);
}

.nlf-section-header {
	margin-bottom: var(--spacing-5);
}

.nlf-section-header h3 {
	margin: 0 0 var(--spacing-2);
	font-size: var(--font-size-xl);
	font-weight: var(--font-weight-semibold);
	color: var(--color-slate-800);
}

.nlf-section-header .description {
	margin: 0;
	color: var(--color-slate-600);
}

.nlf-subsection-title {
	margin: var(--spacing-6) 0 var(--spacing-3);
	font-size: var(--font-size-lg);
	font-weight: var(--font-weight-semibold);
	color: var(--color-slate-700);
	border-bottom: 1px solid var(--color-slate-200);
	padding-bottom: var(--spacing-2);
}

/* ============================================
   Preview Controls
   ============================================ */

.nlf-preview-controls {
	display: flex;
	justify-content: space-between;
	align-items: center;
	margin-bottom: var(--spacing-4);
	padding: var(--spacing-4);
	background: var(--color-slate-50);
	border-radius: var(--radius-lg);
}

.nlf-preview-controls-right {
	display: flex;
	align-items: center;
	gap: var(--spacing-3);
}

.nlf-preview-device-toggle {
	display: flex;
	gap: var(--spacing-2);
	background: var(--color-white);
	padding: var(--spacing-1);
	border-radius: var(--radius-md);
	box-shadow: var(--shadow-sm);
}

.nlf-device-btn {
	display: flex;
	align-items: center;
	justify-content: center;
	width: 40px;
	height: 40px;
	padding: 0;
	border: 1px solid transparent;
	background: transparent;
	border-radius: var(--radius-sm);
	color: var(--color-slate-600);
	cursor: pointer;
	transition: all var(--transition-base);
}

.nlf-device-btn:hover {
	background: var(--color-slate-50);
	color: var(--color-slate-900);
}

.nlf-device-btn.active {
	background: var(--color-primary-500);
	color: var(--color-white);
}

.nlf-device-btn .dashicons {
	font-size: 20px;
	width: 20px;
	height: 20px;
}

.nlf-refresh-preview {
	display: inline-flex;
	align-items: center;
	gap: var(--spacing-2);
}

.nlf-refresh-preview .dashicons {
	width: 16px;
	height: 16px;
}

.nlf-refresh-preview .dashicons::before {
	font-family: "dashicons";
	font-size: 16px;
	line-height: 1;
	display: inline-block;
	vertical-align: middle;
}

.nlf-preview-notice {
	display: flex;
	align-items: center;
	gap: var(--spacing-2);
	padding: var(--spacing-3);
	background: var(--color-slate-50);
	border-left: 3px solid var(--color-primary-500);
	border-radius: var(--radius-sm);
	margin-bottom: var(--spacing-4);
	font-size: var(--font-size-sm);
	color: var(--color-slate-600);
}

.nlf-preview-notice .dashicons {
	color: var(--color-primary-500);
	flex-shrink: 0;
}

.nlf-preview-viewport {
	background: var(--color-slate-100);
	border-radius: var(--radius-lg);
	padding: var(--spacing-6);
	min-height: 400px;
}

.nlf-preview-viewport[data-device="tablet"] {
	max-width: 768px;
	margin: 0 auto;
}

.nlf-preview-viewport[data-device="mobile"] {
	max-width: 375px;
	margin: 0 auto;
}

.nlf-preview-container {
	background: var(--color-white);
	border-radius: var(--radius-md);
	padding: var(--spacing-5);
	min-height: 300px;
	box-shadow: var(--shadow-lg);
}

.nlf-preview-auto {
	display: inline-flex;
	align-items: center;
	gap: var(--spacing-2);
	font-size: var(--font-size-sm);
	color: var(--color-slate-600);
}

.nlf-preview-auto input[type="checkbox"] {
	margin: 0;
}

.nlf-preview-auto--small {
	font-size: var(--font-size-xs);
}

.nlf-preview-mini-actions {
	display: flex;
	align-items: center;
	gap: var(--spacing-3);
}

/* ============================================
   Improved Settings Table
   ============================================ */

.nlf-settings-table th {
	display: flex;
	align-items: center;
	gap: var(--spacing-1);
}

.nlf-settings-table label {
	display: flex;
	align-items: center;
}

/* ============================================
   Unsaved Changes Indicator
   ============================================ */

.nlf-unsaved-indicator {
	position: fixed;
	bottom: 20px;
	right: 20px;
	background: var(--color-error-500);
	color: var(--color-white);
	padding: var(--spacing-3) var(--spacing-5);
	border-radius: var(--radius-lg);
	box-shadow: var(--shadow-xl);
	font-size: var(--font-size-sm);
	font-weight: var(--font-weight-medium);
	z-index: 1000;
	animation: slideInUp 300ms ease;
	display: none;
}

.nlf-unsaved-indicator.visible {
	display: flex;
	align-items: center;
	gap: var(--spacing-2);
}

.nlf-unsaved-indicator .dashicons {
	font-size: 18px;
	width: 18px;
	height: 18px;
}

@keyframes slideInUp {
	from {
		transform: translateY(100px);
		opacity: 0;
	}
	to {
		transform: translateY(0);
		opacity: 1;
	}
}

/* ============================================
   Appearance Split View
   ============================================ */

.nlf-appearance-layout {
	display: grid;
	grid-template-columns: minmax(0, 3fr) minmax(320px, 2fr);
	gap: var(--spacing-8);
	align-items: flex-start;
}

.nlf-appearance-controls {
	display: flex;
	flex-direction: column;
	gap: var(--spacing-8);
}

.nlf-appearance-preview {
	background: var(--color-white);
	border: 1px solid var(--color-slate-200);
	border-radius: var(--radius-lg);
	padding: var(--spacing-6);
	box-shadow: var(--shadow-md);
	position: sticky;
	top: 6rem;
}

.nlf-preview-mini-header {
	display: flex;
	align-items: center;
	justify-content: space-between;
	margin-bottom: var(--spacing-3);
}

.nlf-preview-mini-header h3 {
	margin: 0;
	font-size: var(--font-size-lg);
	font-weight: var(--font-weight-semibold);
	color: var(--color-slate-800);
}

.nlf-preview-empty-state--mini {
	text-align: center;
	padding: var(--spacing-6);
	background: var(--color-slate-50);
	border-radius: var(--radius-lg);
}

.nlf-preview-empty-state--mini p {
	margin-bottom: var(--spacing-3);
	color: var(--color-slate-600);
}

.nlf-reset-row {
	display: flex;
	gap: var(--spacing-3);
	padding-top: var(--spacing-3);
	border-top: 1px solid var(--color-slate-200);
}

@media (max-width: 1024px) {
	.nlf-appearance-layout {
		grid-template-columns: 1fr;
	}

	.nlf-appearance-preview {
		position: static;
	}
}

/* ============================================
   Theme Selector
   ============================================ */

.nlf-theme-selector {
	display: flex;
	flex-direction: column;
	gap: var(--spacing-3);
}

.nlf-theme-option {
	position: relative;
	border: 2px solid var(--color-slate-200);
	border-radius: var(--radius-lg);
	background: var(--color-white);
	transition: border-color var(--transition-base), box-shadow var(--transition-base);
}

.nlf-theme-option.is-active {
	border-color: var(--color-primary-500);
	box-shadow: var(--shadow-md);
}

.nlf-theme-option input[type="radio"] {
	position: absolute;
	opacity: 0;
	pointer-events: none;
}

.nlf-theme-option label {
	display: flex;
	gap: var(--spacing-4);
	padding: var(--spacing-4);
	cursor: pointer;
	align-items: center;
}

.nlf-theme-preview {
	width: 130px;
	height: 90px;
	border: 1px solid;
	border-radius: var(--radius-md);
	padding: var(--spacing-3);
	display: flex;
	flex-direction: column;
	gap: var(--spacing-2);
	position: relative;
	box-shadow: var(--shadow-sm);
}

.nlf-theme-info {
	flex: 1;
}

.nlf-theme-info .nlf-theme-name {
	font-weight: var(--font-weight-semibold);
	color: var(--color-slate-900);
	margin-bottom: var(--spacing-1);
}

.nlf-theme-info p {
	margin: 0;
	color: var(--color-slate-600);
}

.nlf-theme-badge {
	margin-left: auto;
	background: var(--color-primary-100);
	color: var(--color-primary-700);
	font-size: var(--font-size-xs);
	font-weight: var(--font-weight-semibold);
	padding: var(--spacing-1) var(--spacing-3);
	border-radius: 999px;
	display: none;
}

.nlf-theme-option.is-active .nlf-theme-badge {
	display: inline-flex;
}

.nlf-theme-customizer {
	margin-top: var(--spacing-6);
}

.nlf-theme-customizer h4 {
	margin: 0 0 var(--spacing-2);
	font-size: var(--font-size-lg);
	font-weight: var(--font-weight-semibold);
}

/* ============================================
   Onboarding Card
   ============================================ */

.nlf-onboarding-card {
	display: flex;
	gap: var(--spacing-4);
	background: var(--color-primary-50);
	border: 1px solid var(--color-primary-200);
	border-radius: var(--radius-xl);
	padding: var(--spacing-6);
	margin-bottom: var(--spacing-8);
	align-items: center;
}

.nlf-onboarding-icon {
	width: 64px;
	height: 64px;
	border-radius: 50%;
	background: var(--color-white);
	display: flex;
	align-items: center;
	justify-content: center;
	box-shadow: var(--shadow-md);
	color: var(--color-primary-500);
	flex-shrink: 0;
}

.nlf-onboarding-icon .dashicons {
	font-size: 32px;
	width: 32px;
	height: 32px;
}

.nlf-onboarding-content h3 {
	margin: 0 0 var(--spacing-2);
	font-size: var(--font-size-xl);
}

.nlf-onboarding-content ol {
	margin: 0 0 var(--spacing-4);
	padding-left: var(--spacing-5);
	color: var(--color-slate-700);
}

.nlf-onboarding-actions {
	display: flex;
	gap: var(--spacing-3);
	flex-wrap: wrap;
}

.nlf-group-tools {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
	gap: var(--spacing-5);
}

.nlf-group-tool-card {
	padding: var(--spacing-5);
	border: 1px solid var(--color-slate-200);
	border-radius: var(--radius-lg);
	background: var(--color-white);
	box-shadow: var(--shadow-sm);
}

.nlf-group-tool-card h4 {
	margin: 0 0 var(--spacing-2);
	font-size: var(--font-size-lg);
	font-weight: var(--font-weight-semibold);
}

.nlf-group-tool-card p {
	margin: 0 0 var(--spacing-3);
	color: var(--color-slate-600);
}

/* ============================================
   Success Banner
   ============================================ */

.nlf-success-banner {
	border-left: 4px solid var(--color-primary-500);
	display: flex;
	align-items: center;
	gap: var(--spacing-2);
}

.nlf-success-banner .dashicons {
	color: var(--color-primary-600);
}

.nlf-faq-tabs-nav {
	display: flex;
	gap: 0;
	border-bottom: 2px solid var(--color-slate-200);
	background: var(--color-slate-50);
	padding: 0 var(--spacing-4);
	margin: 0 0 var(--spacing-5);
	overflow-x: auto;
	-webkit-overflow-scrolling: touch;
}

.nlf-faq-tab-button {
	display: flex;
	align-items: center;
	gap: var(--spacing-2);
	padding: var(--spacing-4) var(--spacing-5);
	background: transparent;
	border: none;
	border-bottom: 3px solid transparent;
	font-size: var(--font-size-sm);
	font-weight: var(--font-weight-medium);
	color: var(--color-slate-600);
	cursor: pointer;
	transition: all var(--transition-base);
	white-space: nowrap;
	position: relative;
	top: 2px;
}

.nlf-faq-tab-button:hover {
	color: var(--color-slate-900);
	background: var(--color-slate-100);
}

.nlf-faq-tab-button.active {
	color: var(--color-primary-600);
	border-bottom-color: var(--color-primary-600);
	background: var(--color-white);
	font-weight: var(--font-weight-semibold);
}

.nlf-faq-tab-button .dashicons {
	font-size: 18px;
	width: 18px;
	height: 18px;
}

.nlf-faq-tabs-content {
	padding: 0 var(--spacing-4);
}

.nlf-faq-tab-panel {
	display: none;
}

.nlf-faq-tab-panel.active {
	display: block;
	animation: nlfFadeIn var(--transition-base);
}

@keyframes nlfFadeIn {
	from {
		opacity: 0;
		transform: translateY(10px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

/* ============================================
   Themes Tab Styling
   ============================================ */

.nlf-themes-wrapper h3 {
	margin-top: 0;
	margin-bottom: var(--spacing-3);
	font-size: var(--font-size-lg);
	font-weight: var(--font-weight-semibold);
	color: var(--color-slate-800);
}

.nlf-theme-grid {
	display: grid;
	grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
	gap: var(--spacing-4);
	margin: var(--spacing-5) 0;
}

.nlf-theme-card {
	position: relative;
	border: 2px solid var(--color-slate-200);
	border-radius: var(--radius-lg);
	overflow: hidden;
	transition: all var(--transition-base);
	cursor: pointer;
	background: var(--color-white);
}

.nlf-theme-card:hover {
	border-color: var(--color-primary-400);
	box-shadow: var(--shadow-md);
	transform: translateY(-2px);
}

.nlf-theme-card.active {
	border-color: var(--color-primary-600);
	box-shadow: var(--shadow-lg);
	background: var(--color-primary-50);
}

.nlf-theme-card input[type="radio"] {
	position: absolute;
	opacity: 0;
	pointer-events: none;
}

.nlf-theme-card label {
	display: block;
	cursor: pointer;
	padding: 0;
	margin: 0;
}

.nlf-theme-preview {
	padding: var(--spacing-4);
	min-height: 120px;
	display: flex;
	flex-direction: column;
	gap: var(--spacing-2);
	position: relative;
	border-radius: var(--radius-md);
	margin: var(--spacing-3);
	border: 1px solid;
}

.nlf-theme-preview-question {
	font-size: var(--font-size-sm);
	font-weight: var(--font-weight-semibold);
	line-height: var(--line-height-tight);
}

.nlf-theme-preview-answer {
	font-size: var(--font-size-xs);
	line-height: var(--line-height-normal);
	flex: 1;
}

.nlf-theme-preview-accent {
	position: absolute;
	right: var(--spacing-2);
	top: var(--spacing-2);
	width: 24px;
	height: 24px;
	border-radius: var(--radius-sm);
	box-shadow: var(--shadow-sm);
}

.nlf-theme-name {
	text-align: center;
	padding: var(--spacing-3) var(--spacing-2);
	font-weight: var(--font-weight-medium);
	font-size: var(--font-size-sm);
	color: var(--color-slate-700);
	background: var(--color-slate-50);
}

.nlf-theme-card.active .nlf-theme-name {
	background: var(--color-primary-100);
	color: var(--color-primary-800);
	font-weight: var(--font-weight-semibold);
}

.nlf-theme-customizer {
	margin-top: var(--spacing-8);
	padding-top: var(--spacing-6);
	border-top: 1px solid var(--color-slate-200);
}

/* ============================================
   Settings Tab Styling
   ============================================ */

.nlf-settings-wrapper h3 {
	margin-top: var(--spacing-6);
	margin-bottom: var(--spacing-3);
	font-size: var(--font-size-lg);
	font-weight: var(--font-weight-semibold);
	color: var(--color-slate-800);
}

.nlf-settings-wrapper h3:first-child {
	margin-top: 0;
}

.nlf-settings-wrapper .form-table th {
	width: 220px;
	font-weight: var(--font-weight-medium);
	color: var(--color-slate-700);
}

.nlf-settings-wrapper select {
	min-width: 250px;
}

/* ============================================
   Style Tab Styling
   ============================================ */

.nlf-style-wrapper h3 {
	margin-top: var(--spacing-6);
	margin-bottom: var(--spacing-3);
	font-size: var(--font-size-lg);
	font-weight: var(--font-weight-semibold);
	color: var(--color-slate-800);
}

.nlf-style-toggle {
	padding: var(--spacing-5);
	background: var(--color-slate-50);
	border: 1px solid var(--color-slate-200);
	border-radius: var(--radius-lg);
	margin-bottom: var(--spacing-5);
}

.nlf-style-toggle label {
	display: flex;
	align-items: center;
	gap: var(--spacing-3);
	cursor: pointer;
	margin: 0;
}

.nlf-style-toggle input[type="checkbox"] {
	width: 20px;
	height: 20px;
	cursor: pointer;
}

.nlf-custom-style-fields {
	transition: opacity var(--transition-base);
}

.nlf-custom-style-fields.disabled {
	opacity: 0.5;
	pointer-events: none;
}

/* ============================================
   Live View Tab Styling
   ============================================ */

.nlf-live-view-wrapper {
	max-width: 900px;
	margin: 0 auto;
}

.nlf-live-view-notice {
	background: var(--color-slate-50);
	border-left: 4px solid var(--color-primary-500);
	padding: var(--spacing-4);
	margin-bottom: var(--spacing-5);
	border-radius: var(--radius-md);
}

.nlf-live-view-notice p {
	display: flex;
	align-items: center;
	gap: var(--spacing-2);
	margin: 0;
	color: var(--color-slate-700);
	font-size: var(--font-size-sm);
}

.nlf-live-view-notice .dashicons {
	color: var(--color-primary-500);
	flex-shrink: 0;
}

.nlf-live-view-container {
	background: var(--color-white);
	border: 1px solid var(--color-slate-200);
	border-radius: var(--radius-lg);
	padding: var(--spacing-6);
	min-height: 400px;
	box-shadow: var(--shadow-md);
}

.nlf-live-view-loading {
	display: flex;
	align-items: center;
	justify-content: center;
	gap: var(--spacing-3);
	padding: var(--spacing-8);
	color: var(--color-slate-600);
	font-size: var(--font-size-base);
}

.nlf-live-view-loading .spinner {
	float: none;
	margin: 0;
}

.nlf-live-view-content {
	display: none;
}

.nlf-live-view-content.loaded {
	display: block;
}

/* ============================================
   Color Picker Styling
   ============================================ */

.nlf-color-picker {
	max-width: 200px;
}

/* ============================================
   Responsive Tabs
   ============================================ */

@media (max-width: 782px) {
	.nlf-faq-tabs-nav {
		padding: 0 var(--spacing-2);
	}
	
	.nlf-faq-tab-button {
		padding: var(--spacing-3) var(--spacing-3);
		font-size: var(--font-size-xs);
	}
	
	.nlf-faq-tab-button span:not(.dashicons) {
		display: none;
	}
	
	.nlf-faq-tabs-content {
		padding: 0 var(--spacing-2);
	}
	
	.nlf-theme-grid {
		grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
		gap: var(--spacing-3);
	}
}

/* ============================================
   Preview Responsive - Mobile First
   ============================================ */

/* Mobile Notice - Uses WP admin color palette for consistency */
.nlf-preview-mobile-notice {
	display: block;
	background: var(--color-white);
	border: 1px solid #c3c4c7;
	border-left-width: 4px;
	border-left-color: #2271b1;
	border-radius: var(--radius-sm);
	padding: var(--spacing-5) var(--spacing-4);
	margin: var(--spacing-2) 0;
	box-shadow: var(--shadow-sm);
}

.nlf-preview-mobile-notice__inner {
	display: flex;
	align-items: flex-start;
	gap: var(--spacing-3);
}

.nlf-preview-mobile-notice__icon {
	flex-shrink: 0;
	width: 36px;
	height: 36px;
	background: #f0f6fc;
	border-radius: 50%;
	display: flex;
	align-items: center;
	justify-content: center;
}

.nlf-preview-mobile-notice__icon .dashicons {
	font-size: 18px;
	width: 18px;
	height: 18px;
	color: #2271b1;
}

.nlf-preview-mobile-notice__content {
	flex: 1;
	min-width: 0;
}

.nlf-preview-mobile-notice__title {
	margin: 0 0 var(--spacing-1);
	font-size: var(--font-size-sm);
	font-weight: var(--font-weight-semibold);
	color: var(--color-slate-800);
	line-height: var(--line-height-tight);
}

.nlf-preview-mobile-notice__desc {
	margin: 0 0 var(--spacing-2);
	font-size: var(--font-size-xs);
	color: var(--color-slate-600);
	line-height: var(--line-height-normal);
}

.nlf-preview-mobile-notice__hint {
	display: inline-flex;
	align-items: center;
	gap: var(--spacing-1);
	font-size: 11px;
	color: var(--color-slate-500);
	background: var(--color-slate-50);
	padding: var(--spacing-1) var(--spacing-2);
	border-radius: var(--radius-sm);
}

.nlf-preview-mobile-notice__hint .dashicons {
	font-size: 12px;
	width: 12px;
	height: 12px;
	color: var(--color-slate-600);
}

/* Mobile: Hide preview content, show notice */
.nlf-preview-container .nlf-preview-loading,
.nlf-preview-container .nlf-preview-content,
.nlf-preview-viewport,
.nlf-preview-controls,
.nlf-preview-notice,
.nlf-appearance-preview .nlf-preview-viewport,
#nlf-faq-preview-root .nlf-faq,
.nlf-faq-admin__right > h2,
.nlf-faq-admin__right > .description,
.nlf-preview-mini-header {
	display: none;
}

.nlf-preview-container {
	background: transparent;
	box-shadow: none;
	padding: 0;
	min-height: auto;
}

.nlf-appearance-preview {
	padding: var(--spacing-3);
}

/* Desktop: Show preview, hide notice */
@media (min-width: 783px) {
	.nlf-preview-mobile-notice {
		display: none;
	}

	.nlf-preview-container .nlf-preview-loading,
	.nlf-preview-container .nlf-preview-content,
	.nlf-preview-viewport,
	.nlf-preview-notice,
	.nlf-appearance-preview .nlf-preview-viewport,
	#nlf-faq-preview-root .nlf-faq,
	.nlf-faq-admin__right > h2,
	.nlf-faq-admin__right > .description {
		display: block;
	}

	.nlf-preview-container:has(.nlf-preview-content.loaded) .nlf-preview-loading {
		display: none;
	}

	.nlf-preview-controls {
		display: flex;
	}

	.nlf-preview-container {
		background: var(--color-white);
		border-radius: var(--radius-md);
		padding: var(--spacing-5);
		box-shadow: var(--shadow-lg);
	}

	.nlf-appearance-preview {
		padding: var(--spacing-6);
	}

	.nlf-preview-mini-header {
		display: flex;
	}
}